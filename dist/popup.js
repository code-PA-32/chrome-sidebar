(()=>{"use strict";var e,t={5008:(e,t,a)=>{var l=a(7294),n=a(745),r=(a(4722),a(4889)),s=a(4464),o=a(1607),c=a(1604),i=a(7536),m=a(8842),d=a(4960),u=a(2093),p=a(1691),f=a(4571);const b=l.forwardRef(((e,t)=>{var{className:a,type:n}=e,r=function(e,t){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(a[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(l=Object.getOwnPropertySymbols(e);n<l.length;n++)t.indexOf(l[n])<0&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(a[l[n]]=e[l[n]])}return a}(e,["className","type"]);const[s,o]=l.useState(!1);let c=(0,d.c)(0),i=(0,d.c)(0);return l.createElement(u.E.div,{style:{background:p.Y`
        radial-gradient(
          ${s?"100px":"0px"} circle at ${c}px ${i}px,
          var(--lime-500),
          transparent 80%
        )
      `},onMouseMove:function({currentTarget:e,clientX:t,clientY:a}){let{left:l,top:n}=e.getBoundingClientRect();c.set(t-l),i.set(a-n)},onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),className:"p-[2px] rounded-lg transition duration-300 group/input"},l.createElement("input",Object.assign({type:n,className:(0,f.cn)("flex h-10 w-full border-none bg-white text-black rounded-md px-3 py-2 text-sm  file:border-0 placeholder:text-neutral-400 \n           disabled:cursor-not-allowed disabled:opacity-50\n           group-hover/input:shadow-none transition duration-400\n           ",a),ref:t},r)))}));b.displayName="Input";var h=a(1290);const x=()=>l.createElement(l.Fragment,null,l.createElement("span",{className:"group-hover/btn:opacity-100 block transition duration-500 opacity-0 absolute h-px w-full -bottom-px inset-x-0 bg-gradient-to-r from-transparent via-cyan-500 to-transparent"}),l.createElement("span",{className:"group-hover/btn:opacity-100 blur-sm block transition duration-500 opacity-0 absolute h-px w-1/2 mx-auto -bottom-px inset-x-10 bg-gradient-to-r from-transparent via-indigo-500 to-transparent"}));var v=a(3399),g=(a(3228),function(e,t,a,l){return new(a||(a=Promise))((function(n,r){function s(e){try{c(l.next(e))}catch(e){r(e)}}function o(e){try{c(l.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(s,o)}c((l=l.apply(e,t||[])).next())}))});const y=[{text:"Email"},{text:"Address:"}],E=c.Ry({email:c.Z_().email({message:"Email is required"})}),w=({open:e,close:t})=>{const[a,n]=l.useState(""),r=(0,i.cI)({resolver:(0,m.F)(E),defaultValues:{email:""},mode:"onBlur"});return l.createElement(v.u,{open:e,onClose:t,center:!0,styles:{modal:{backgroundColor:"rgb(229 231 235)"}}},l.createElement("div",{className:"py-6 flex flex-col gap-2 bg-gray-200"},l.createElement("form",{className:"flex flex-col gap-6 w-[400px]",onSubmit:r.handleSubmit((e=>g(void 0,void 0,void 0,(function*(){n("");const t=yield fetch("https://api.retool.com/v1/workflows/70e84d2d-027c-4c36-9de1-75456358af94/startTrigger?workflowApiKey=retool_wk_f2cc0817edc74ec886391f6005eac1c6",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.email})}),a=yield t.json();r.reset(),a.success||n(a.message),a.success&&n(a.message)}))))},l.createElement("div",{className:"w-full flex flex-col gap-5"},l.createElement("div",{className:"flex flex-col"},l.createElement("label",{htmlFor:"email",className:"py-10 text-center font-bold text-base"},"Enter Your Email Address to receive ",l.createElement("br",null)," SMS with your password"),l.createElement("label",{htmlFor:"email",className:"pb-2 pl-1"},l.createElement(h.X,{words:y,className:"font-semibold text-base text-black"})),l.createElement(b,Object.assign({type:"email",id:"email",name:"email",placeholder:"willow@fb4s.com"},r.register("email"))),r.formState.errors.email&&l.createElement("span",{className:"text-red-500 text-sm pl-1 pt-1"},r.formState.errors.email.message))),a&&l.createElement("div",{className:"text-center text-base font-semibold text-red-500"},a),l.createElement("button",{className:"text-xl hover:bg-black bg-lime-500 transition duration-300 ease-in-out text-white relative py-2 items-center justify-center font-semibold group/btn from-lime-500 to-lime-600 block w-full rounded-md shadow-[0px_1px_0px_0px_var(--lime-500)_inset,0px_-1px_0px_0px_var(--lime-500)_inset]",type:"submit",disabled:r.formState.isSubmitting},l.createElement("span",null,"Send SMS"),l.createElement(x,null)))))};const N=[{text:"Email"},{text:"Address:"}],_=[{text:"Password:"}],k=[{text:"Incorrect",className:"text-red-600 text-xl"},{text:"Email",className:"font-semibold text-xl text-red-600"},{text:"or",className:"text-xl text-red-600"},{text:"Password",className:"font-semibold text-xl text-red-600"}],S=[{text:"Enter",className:"italic"},{text:"your",className:"italic"},{text:"FUB",className:"italic"},{text:"credentials",className:"italic"}],O=c.Ry({email:c.Z_().email({message:"Email is required"}),password:c.Z_().min(6,{message:"Password is required"})}),A=({onAuthChange:e})=>{const[t,a]=l.useState(!1),[n,r]=l.useState(!1),[c,d]=l.useState("password"),[u,p]=l.useState(!1),f=(0,i.cI)({resolver:(0,m.F)(O),defaultValues:{email:"",password:""},mode:"onBlur"});return l.createElement("div",{className:"h-screen w-screen flex items-center justify-center flex-col relative"},l.createElement("div",{className:"relative h-20 flex items-center justify-center w-screen overflow-y-hidden"},l.createElement("img",{src:"head.webp",alt:"head",className:"absolute top-0 left-0 h-20 object-cover"}),l.createElement("img",{src:"logo.webp",alt:"logo",className:"h-12 mx-auto block relative z-10 pt-1"})),l.createElement(w,{open:t,close:()=>a(!1)}),l.createElement("form",{onSubmit:f.handleSubmit((t=>{return a=void 0,l=void 0,r=function*(){p(!1);const a=yield fetch("http://marketing.findbusinesses4sale.com:5005/auth/check-login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({login:t.email,password:t.password})});if(!a.ok)return void p(!0);const l=yield a.json();l.success?(yield chrome.storage.local.set({currentUser:{email:l.data.email,name:l.data.first_name,lastName:l.data.last_name,isAuth:l.success}}),e(!0)):p(!0)},new((n=void 0)||(n=Promise))((function(e,t){function s(e){try{c(r.next(e))}catch(e){t(e)}}function o(e){try{c(r.throw(e))}catch(e){t(e)}}function c(t){var a;t.done?e(t.value):(a=t.value,a instanceof n?a:new n((function(e){e(a)}))).then(s,o)}c((r=r.apply(a,l||[])).next())}));var a,l,n,r})),className:"flex flex-col gap-5 p-5 pt-20 bg-gray-200 h-screen w-screen items-center justify-between"},l.createElement("div",{className:"w-full flex flex-col gap-5"},l.createElement("div",{className:"flex flex-col"},l.createElement("label",{htmlFor:"email",className:"pb-2 pl-1"},l.createElement(h.X,{words:S,className:"font-semibold text-base text-black"})),l.createElement("label",{htmlFor:"email",className:"pb-2 pl-1"},l.createElement(h.X,{words:N,className:"font-semibold text-base text-black"})),l.createElement(b,Object.assign({type:"email",id:"email",name:"email",placeholder:"willow@fb4s.com"},f.register("email"))),f.formState.errors.email&&l.createElement("span",{className:"text-red-500 text-sm pl-1 pt-1"},f.formState.errors.email.message)),l.createElement("div",{className:"flex flex-col relative"},l.createElement("label",{htmlFor:"password",className:"font-semibold text-base pb-2 pl-1"},l.createElement(h.X,{words:_,className:"font-semibold text-base text-black"})),l.createElement(b,Object.assign({type:c,id:"password",name:"password",placeholder:"your_FUB_password"},f.register("password"))),l.createElement("button",{onClick:()=>{r(!n),d(n?"password":"text")},type:"button",className:"absolute right-0 top-7"},n?l.createElement(s.Z,{className:"absolute right-3 top-3 text-black"}):l.createElement(o.Z,{className:"absolute right-3 top-3 text-black"})),f.formState.errors.password&&l.createElement("span",{className:"text-red-500 text-sm pl-1 pt-1"},f.formState.errors.password.message)),l.createElement("div",null,l.createElement("button",{type:"button",onClick:()=>a(!0),className:"text-[#D28739] font-semibold text-base hover:underline pl-1"},"Forgot password?"))),u&&l.createElement("div",{className:"mx-auto"},l.createElement(h.X,{words:k})),l.createElement("button",{type:"submit",className:"text-xl hover:bg-black bg-lime-500 transition duration-300 ease-in-out text-white relative py-2 items-center justify-center font-semibold group/btn from-lime-500 to-lime-600 block w-full rounded-md shadow-[0px_1px_0px_0px_var(--lime-500)_inset,0px_-1px_0px_0px_var(--lime-500)_inset]"},l.createElement("span",null,"Log In"),l.createElement(x,null))))},I=({url:e})=>l.createElement("iframe",{src:`https://findbusinesses4sale.retool.com/embedded/public/${e}`,width:"500px",height:"600px"});var j=a(3605),P=a(8338),U=a(6269),B=a(5490),F=a(8051),C=a(4104);const T=({children:e,setIsAuthenticated:t,isAuthenticated:a})=>l.createElement("div",{className:"w-[500px] h-[600px] relative"},l.createElement("button",{onClick:()=>{chrome.tabs.query({active:!0,currentWindow:!0},(e=>{e.length>0&&(chrome.sidePanel.setOptions({tabId:e[0].id,enabled:!0,path:"side-bar.html"}),chrome.sidePanel.open({tabId:e[0].id},(()=>{window.close()})))}))},className:"absolute top-2 right-16 z-10 p-1 bg-black/60 rounded-md"},l.createElement(B.Z,{className:"text-sky-50 rotate-180","data-tooltip-id":"my-tooltip-open","data-tooltip-content":"Open sidebar","data-tooltip-place":"left"}),l.createElement(C.u,{id:"my-tooltip-open"})),a&&l.createElement("button",{onClick:()=>{return e=void 0,a=void 0,n=function*(){yield chrome.storage.local.set({currentUser:null}),t(!1),chrome.tabs.query({active:!0,currentWindow:!0},(e=>{e.length>0&&chrome.sidePanel.setOptions({tabId:e[0].id,enabled:!1})}))},new((l=void 0)||(l=Promise))((function(t,r){function s(e){try{c(n.next(e))}catch(e){r(e)}}function o(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var a;e.done?t(e.value):(a=e.value,a instanceof l?a:new l((function(e){e(a)}))).then(s,o)}c((n=n.apply(e,a||[])).next())}));var e,a,l,n},className:"absolute top-2 right-5 z-10 p-1 bg-black/60 rounded-md"},l.createElement(F.Z,{className:"text-sky-50","data-tooltip-id":"my-tooltip-logout","data-tooltip-content":"Logout","data-tooltip-place":"bottom"}),l.createElement(C.u,{id:"my-tooltip-logout"})),e);var M=a(9820),$=function(e,t,a,l){return new(a||(a=Promise))((function(n,r){function s(e){try{c(l.next(e))}catch(e){r(e)}}function o(e){try{c(l.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(s,o)}c((l=l.apply(e,t||[])).next())}))};const R=document.getElementById("app");n.createRoot(R).render(l.createElement((()=>{const[e,t]=(0,l.useState)(!1),[a,n]=(0,l.useState)(null);console.log(a);const[s,o]=(0,l.useState)(null);return(0,l.useEffect)((()=>{$(void 0,void 0,void 0,(function*(){var s;const c=yield chrome.storage.local.get(["currentUser"]);(null===(s=null==c?void 0:c.currentUser)||void 0===s?void 0:s.isAuth)?(t(!0),a||n(c.currentUser),chrome.storage.local.get(["currentUrl"]).then((a=>$(void 0,void 0,void 0,(function*(){var n,s;const i=new URL(a.currentUrl),m=i.origin+i.pathname,d=null!==(n=i.pathname.split("/"))&&void 0!==n?n:[],u=null!==(s=d[d.length-1])&&void 0!==s?s:"",p=(0,r.hT)(c.currentUser.email);if(m.includes(M.B["FB4S-LISTINGS"])||m.includes(M.B["FB4S-COMMERCIAL-LISTING"])){const a=yield(0,r.g2)();if("N/A"===a.listingMls){const n=(0,r.hT)(a.listingId);return void o(l.createElement(T,{setIsAuthenticated:t,isAuthenticated:e},l.createElement(I,{url:`74e99d98-a3b8-4cf2-b901-6cac17f48bcf?access_level_key=${p}&profile_ikey=${n}`})))}const n=(0,r.hT)(a.listingMls);o(l.createElement(T,{setIsAuthenticated:t,isAuthenticated:e},l.createElement(I,{url:`74e99d98-a3b8-4cf2-b901-6cac17f48bcf?access_level_key=${p}&profile_key=${n}`})))}else if(m.includes(M.B["FB4S-DASHBOARD"]))o(l.createElement(T,{setIsAuthenticated:t,isAuthenticated:e},l.createElement(I,{url:`cf559bd3-933a-4a04-9687-3ebaa3e0570f?access_level_key=${p}`})));else if(m.includes(M.B["FB4S-PIPEDRIVE"])){const a=yield(0,r.Uk)(u);if(!a)return void o(l.createElement(T,{setIsAuthenticated:t,isAuthenticated:e},l.createElement(j.Q,{name:c.currentUser.name,lastName:c.currentUser.lastName})));const n=(0,r.hT)(a);o(l.createElement(T,{setIsAuthenticated:t,isAuthenticated:e},l.createElement(I,{url:`37827805-e6f2-49a6-a7a1-8577d0d4669a?retool_dashboard_public_key=467f8c24-2333-49fe-9de8-3f58b085939e&profile_ekey=${n}`})))}else{if(m.includes(M.B.MANOJ)){const a=yield(0,r.Nu)(u);if(null===a)return void o(l.createElement(T,{setIsAuthenticated:t,isAuthenticated:e},l.createElement(P.v,{name:c.currentUser.name,lastName:c.currentUser.lastName})));const n=JSON.parse(atob(a.customFB4SLeadID)),s=(0,r.hT)(n.chat_id.toString());return void o(l.createElement(T,{setIsAuthenticated:t,isAuthenticated:e},l.createElement(I,{url:`37827805-e6f2-49a6-a7a1-8577d0d4669a?access_level_key=${p}&profile_ikey=${s}`})))}o(l.createElement(T,{setIsAuthenticated:t,isAuthenticated:e},l.createElement(U.k,{name:c.currentUser.name,lastName:c.currentUser.lastName})))}}))))):(t(!1),o(l.createElement("div",{className:"w-[500px] h-[600px]"},l.createElement(A,{onAuthChange:t}))))}))}),[e,a]),s}),null))}},a={};function l(e){var n=a[e];if(void 0!==n)return n.exports;var r=a[e]={id:e,exports:{}};return t[e].call(r.exports,r,r.exports,l),r.exports}l.m=t,e=[],l.O=(t,a,n,r)=>{if(!a){var s=1/0;for(m=0;m<e.length;m++){for(var[a,n,r]=e[m],o=!0,c=0;c<a.length;c++)(!1&r||s>=r)&&Object.keys(l.O).every((e=>l.O[e](a[c])))?a.splice(c--,1):(o=!1,r<s&&(s=r));if(o){e.splice(m--,1);var i=n();void 0!==i&&(t=i)}}return t}r=r||0;for(var m=e.length;m>0&&e[m-1][2]>r;m--)e[m]=e[m-1];e[m]=[a,n,r]},l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},l.d=(e,t)=>{for(var a in t)l.o(t,a)&&!l.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={42:0};l.O.j=t=>0===e[t];var t=(t,a)=>{var n,r,[s,o,c]=a,i=0;if(s.some((t=>0!==e[t]))){for(n in o)l.o(o,n)&&(l.m[n]=o[n]);if(c)var m=c(l)}for(t&&t(a);i<s.length;i++)r=s[i],l.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return l.O(m)},a=self.webpackChunkactse=self.webpackChunkactse||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})(),l.nc=void 0;var n=l.O(void 0,[101,365,40],(()=>l(5008)));n=l.O(n)})();